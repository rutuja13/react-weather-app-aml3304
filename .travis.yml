language: node_js

node_js:
  - "17.8.0"
sudo: false

script:
    - npm test
    -npm install
    - npm run build

after_success:
  - firebase deploy --token $FIREBASE_TOKEN
  
cache:
  directories:
    - node_modules

install:
  - npm install -g firebase tools

deploy:
  provider: firebase
  token:
    secure: "1//04FXNXDDae93OCgYIARAAGAQSNwF-L9Irjw2Zq33lm0HhInCzZAIJNLCOuTRlwg_2MuMh5ugomWEf7COeX4ocwiQF01YrsaJOOH4"